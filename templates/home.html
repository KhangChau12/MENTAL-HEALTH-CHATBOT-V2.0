{% extends "base.html" %}

{% block title %}Chọn phương thức đánh giá - Trợ lý Sức khỏe Tâm thần{% endblock %}

{% block description %}Chọn phương thức đánh giá sức khỏe tâm thần: Chế độ AI với trò chuyện tự nhiên hoặc Chế độ Logic với câu hỏi có cấu trúc.{% endblock %}

{% block body_class %}home-page{% endblock %}

{% block content %}
<div class="hero-section">
    <div class="container">
        <div class="hero-content">
            <div class="hero-text">
                <h1 class="hero-title">
                    Chăm sóc sức khỏe tâm thần của bạn
                    <span class="hero-highlight">bắt đầu từ đây</span>
                </h1>
                <p class="hero-description">
                    Công cụ sàng lọc sức khỏe tâm thần chuyên nghiệp với sự hỗ trợ của AI. 
                    Đánh giá an toàn, bảo mật và dựa trên các tiêu chuẩn y tế quốc tế.
                </p>
                <div class="hero-stats">
                    <div class="stat-item">
                        <div class="stat-number">5+</div>
                        <div class="stat-label">Bộ đánh giá chuẩn</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">2</div>
                        <div class="stat-label">Ngôn ngữ hỗ trợ</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">100%</div>
                        <div class="stat-label">Bảo mật dữ liệu</div>
                    </div>
                </div>
            </div>
            <div class="hero-visual">
                <div class="hero-illustration">
                    <svg width="400" height="300" viewBox="0 0 400 300" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <!-- Brain illustration -->
                        <ellipse cx="200" cy="150" rx="120" ry="80" fill="var(--color-primary-light)" opacity="0.1"/>
                        <path d="M120 150 C120 120, 140 100, 180 110 C200 90, 220 90, 240 110 C280 100, 300 120, 300 150 C300 180, 280 200, 240 190 C220 210, 200 210, 180 190 C140 200, 120 180, 120 150 Z" 
                              fill="var(--color-primary)" opacity="0.8"/>
                        
                        <!-- Neural connections -->
                        <circle cx="160" cy="130" r="4" fill="var(--color-accent)"/>
                        <circle cx="180" cy="140" r="3" fill="var(--color-accent)"/>
                        <circle cx="200" cy="125" r="4" fill="var(--color-accent)"/>
                        <circle cx="220" cy="135" r="3" fill="var(--color-accent)"/>
                        <circle cx="240" cy="145" r="4" fill="var(--color-accent)"/>
                        
                        <line x1="160" y1="130" x2="180" y2="140" stroke="var(--color-accent)" stroke-width="2" opacity="0.6"/>
                        <line x1="180" y1="140" x2="200" y2="125" stroke="var(--color-accent)" stroke-width="2" opacity="0.6"/>
                        <line x1="200" y1="125" x2="220" y2="135" stroke="var(--color-accent)" stroke-width="2" opacity="0.6"/>
                        <line x1="220" y1="135" x2="240" y2="145" stroke="var(--color-accent)" stroke-width="2" opacity="0.6"/>
                        
                        <!-- Heart for care -->
                        <path d="M190 180 C190 175, 195 170, 200 175 C205 170, 210 175, 210 180 C210 185, 200 195, 200 195 C200 195, 190 185, 190 180 Z" 
                              fill="var(--color-accent)" opacity="0.8"/>
                    </svg>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="mode-selection-section">
    <div class="container">
        <div class="section-header">
            <h2 class="section-title">Chọn phương thức đánh giá phù hợp với bạn</h2>
            <p class="section-description">
                Chúng tôi cung cấp hai phương thức đánh giá để phù hợp với nhu cầu và sở thích của bạn
            </p>
        </div>
        
        <div class="mode-cards">
            <!-- AI Mode Card -->
            <div class="mode-card mode-card-ai" data-mode="ai">
                <div class="mode-card-header">
                    <div class="mode-icon mode-icon-ai">
                        <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                            <circle cx="12" cy="12" r="3"/>
                        </svg>
                    </div>
                    <div class="mode-badge">Được khuyến nghị</div>
                </div>
                
                <div class="mode-card-content">
                    <h3 class="mode-title">Chế độ AI</h3>
                    <p class="mode-description">
                        Trò chuyện tự nhiên với AI để hiểu tình trạng của bạn, sau đó chuyển sang đánh giá chuyên sâu
                    </p>
                    
                    <div class="mode-features">
                        <div class="feature-item">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/>
                            </svg>
                            <span>Trò chuyện tự nhiên</span>
                        </div>
                        <div class="feature-item">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M9 12l2 2 4-4"/>
                                <circle cx="12" cy="12" r="10"/>
                            </svg>
                            <span>Phù hợp với từng cá nhân</span>
                        </div>
                        <div class="feature-item">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/>
                            </svg>
                            <span>Đánh giá thông minh</span>
                        </div>
                    </div>
                    
                    <div class="mode-info">
                        <div class="info-item">
                            <span class="info-label">Thời gian:</span>
                            <span class="info-value">8-12 phút</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Độ chính xác:</span>
                            <span class="info-value">Cao</span>
                        </div>
                    </div>
                </div>
                
                <div class="mode-card-footer">
                    <button class="mode-btn mode-btn-primary" onclick="startAssessment('ai')">
                        <span>Bắt đầu với AI</span>
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M5 12h14"/>
                            <path d="M12 5l7 7-7 7"/>
                        </svg>
                    </button>
                </div>
            </div>
            
            <!-- Logic Mode Card -->
            <div class="mode-card mode-card-logic" data-mode="logic">
                <div class="mode-card-header">
                    <div class="mode-icon mode-icon-logic">
                        <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M9 12l2 2 4-4"/>
                            <path d="M21 12c-1.5 0-3-1-3-3s1.5-3 3-3 3 1 3 3-1.5 3-3 3"/>
                            <path d="M3 12c1.5 0 3-1 3-3s-1.5-3-3-3-3 1-3 3 1.5 3 3 3"/>
                            <path d="M12 21c0-1.5-1-3-3-3s-3 1.5-3 3 1 3 3 3 3-1.5 3-3"/>
                            <path d="M12 3c0 1.5-1 3-3 3s-3-1.5-3-3 1-3 3-3 3 1.5 3 3"/>
                        </svg>
                    </div>
                </div>
                
                <div class="mode-card-content">
                    <h3 class="mode-title">Chế độ Logic</h3>
                    <p class="mode-description">
                        Trả lời trực tiếp các câu hỏi có cấu trúc theo bộ tiêu chí đánh giá chuẩn quốc tế
                    </p>
                    
                    <div class="mode-features">
                        <div class="feature-item">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                                <polyline points="14,2 14,8 20,8"/>
                                <line x1="16" y1="13" x2="8" y2="13"/>
                                <line x1="16" y1="17" x2="8" y2="17"/>
                            </svg>
                            <span>Câu hỏi có cấu trúc</span>
                        </div>
                        <div class="feature-item">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="10"/>
                                <polyline points="12,6 12,12 16,14"/>
                            </svg>
                            <span>Nhanh chóng</span>
                        </div>
                        <div class="feature-item">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M20 6L9 17l-5-5"/>
                            </svg>
                            <span>Tiêu chuẩn quốc tế</span>
                        </div>
                    </div>
                    
                    <div class="mode-info">
                        <div class="info-item">
                            <span class="info-label">Thời gian:</span>
                            <span class="info-value">5-8 phút</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Độ chính xác:</span>
                            <span class="info-value">Chuẩn</span>
                        </div>
                    </div>
                </div>
                
                <div class="mode-card-footer">
                    <button class="mode-btn mode-btn-secondary" onclick="startAssessment('logic')">
                        <span>Bắt đầu đánh giá</span>
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M5 12h14"/>
                            <path d="M12 5l7 7-7 7"/>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Comparison table (optional) -->
        <div class="comparison-section">
            <h3 class="comparison-title">So sánh chi tiết</h3>
            <div class="comparison-table">
                <div class="comparison-header">
                    <div class="comparison-cell"></div>
                    <div class="comparison-cell">Chế độ AI</div>
                    <div class="comparison-cell">Chế độ Logic</div>
                </div>
                
                <div class="comparison-row">
                    <div class="comparison-cell comparison-label">Thời gian hoàn thành</div>
                    <div class="comparison-cell">8-12 phút</div>
                    <div class="comparison-cell">5-8 phút</div>
                </div>
                
                <div class="comparison-row">
                    <div class="comparison-cell comparison-label">Phương thức tương tác</div>
                    <div class="comparison-cell">Trò chuyện tự nhiên</div>
                    <div class="comparison-cell">Câu hỏi có cấu trúc</div>
                </div>
                
                <div class="comparison-row">
                    <div class="comparison-cell comparison-label">Cá nhân hóa</div>
                    <div class="comparison-cell">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M20 6L9 17l-5-5"/>
                        </svg>
                        Cao
                    </div>
                    <div class="comparison-cell">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="1"/>
                        </svg>
                        Chuẩn
                    </div>
                </div>
                
                <div class="comparison-row">
                    <div class="comparison-cell comparison-label">Phù hợp với</div>
                    <div class="comparison-cell">Người thích trò chuyện</div>
                    <div class="comparison-cell">Người thích trực tiếp</div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Features section -->
<div class="features-section">
    <div class="container">
        <div class="section-header">
            <h2 class="section-title">Tại sao chọn công cụ của chúng tôi?</h2>
        </div>
        
        <div class="features-grid">
            <div class="feature-card">
                <div class="feature-icon">
                    <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="11" width="18" height="11" rx="2" ry="2"/>
                        <circle cx="12" cy="16" r="1"/>
                        <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
                    </svg>
                </div>
                <h3 class="feature-title">Bảo mật tuyệt đối</h3>
                <p class="feature-description">
                    Dữ liệu được mã hóa và chỉ lưu trữ tạm thời. Không chia sẻ thông tin cá nhân với bên thứ ba.
                </p>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon">
                    <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M9 12l2 2 4-4"/>
                        <path d="M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z"/>
                    </svg>
                </div>
                <h3 class="feature-title">Chuẩn quốc tế</h3>
                <p class="feature-description">
                    Sử dụng các bộ đánh giá được công nhận như PHQ-9, GAD-7, DASS-21 được khuyến nghị bởi WHO.
                </p>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon">
                    <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/>
                    </svg>
                </div>
                <h3 class="feature-title">AI thông minh</h3>
                <p class="feature-description">
                    Công nghệ AI tiên tiến giúp phân tích và đưa ra đánh giá chính xác dựa trên cuộc trò chuyện.
                </p>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon">
                    <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M14.828 14.828a4 4 0 0 1-5.656 0"/>
                        <path d="M9 9a3 3 0 1 1 6 0c0 2-3 3-3 3"/>
                        <line x1="12" y1="17" x2="12.01" y2="17"/>
                    </svg>
                </div>
                <h3 class="feature-title">Hỗ trợ 24/7</h3>
                <p class="feature-description">
                    Luôn sẵn sàng hỗ trợ bạn bất cứ lúc nào. Đường dây nóng khẩn cấp cho các tình huống cần thiết.
                </p>
            </div>
        </div>
    </div>
</div>

<!-- CTA Section -->
<div class="cta-section">
    <div class="container">
        <div class="cta-content">
            <h2 class="cta-title">Sẵn sàng bắt đầu hành trình chăm sóc sức khỏe tâm thần?</h2>
            <p class="cta-description">
                Bước đầu tiên quan trọng nhất là nhận biết và đối mặt với vấn đề. 
                Chúng tôi ở đây để hỗ trợ bạn.
            </p>
            <div class="cta-buttons">
                <button class="cta-btn cta-btn-primary" onclick="startAssessment('ai')">
                    Bắt đầu với AI
                </button>
                <button class="cta-btn cta-btn-secondary" onclick="startAssessment('logic')">
                    Bắt đầu đánh giá nhanh
                </button>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block additional_js %}
<script>
// Mode selection functionality
function startAssessment(mode) {
    // Show loading
    document.querySelector('[data-loading-overlay]').classList.add('active');
    
    // Store selected mode
    localStorage.setItem('assessment_mode', mode);
    
    // Redirect based on mode
    if (mode === 'ai') {
        window.location.href = '/chat';
    } else {
        window.location.href = '/assessment';
    }
}

// Mode card interactions
document.addEventListener('DOMContentLoaded', function() {
    const modeCards = document.querySelectorAll('.mode-card');
    
    modeCards.forEach(card => {
        card.addEventListener('click', function() {
            const mode = this.dataset.mode;
            
            // Remove active class from all cards
            modeCards.forEach(c => c.classList.remove('active'));
            
            // Add active class to clicked card
            this.classList.add('active');
            
            // Optional: Auto-start after selection
            // setTimeout(() => startAssessment(mode), 1000);
        });
        
        // Hover effects
        card.addEventListener('mouseenter', function() {
            this.style.transform = 'translateY(-8px)';
        });
        
        card.addEventListener('mouseleave', function() {
            this.style.transform = 'translateY(0)';
        });
    });
    
    // Animate features on scroll
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };
    
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.style.animationDelay = `${entry.target.dataset.delay || 0}ms`;
                entry.target.classList.add('animate-in');
            }
        });
    }, observerOptions);
    
    // Observe feature cards
    document.querySelectorAll('.feature-card').forEach((card, index) => {
        card.dataset.delay = index * 100;
        observer.observe(card);
    });
    
    // Observe mode cards
    document.querySelectorAll('.mode-card').forEach((card, index) => {
        card.dataset.delay = index * 200;
        observer.observe(card);
    });
});

// Keyboard navigation
document.addEventListener('keydown', function(e) {
    if (e.key === '1' && (e.ctrlKey || e.metaKey)) {
        e.preventDefault();
        startAssessment('ai');
    } else if (e.key === '2' && (e.ctrlKey || e.metaKey)) {
        e.preventDefault();
        startAssessment('logic');
    }
});
</script>
{% endblock %}